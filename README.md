# 2GIS Demo App

Демо‑приложение на SwiftUI, интегрирующее маршрутизацию 2GIS и смежные сервисы. Показывает компактный оверлей маршрута, генерирует «билборды» (подсказки) вдоль пути и открывает отдельное окно для ближайшей подсказки по мере движения.

Возможности
- Построение маршрута через 2GIS Routing API
- Отрисовка оверлея маршрута (Canvas) с манёврами и полной полилинией
- Генерация билбордов каждые 10 метров и показ ближайшего в отдельном окне
- Отслеживание прогресса пользователя и вывод подсказки поворота (прямо/слегка/повернуть/развернуться)
- Необязательная непрерывная отправка точек на Map Matching
- Необязательное воспроизведение GPX для тестирования

Требования
- Xcode 15+
- macOS 14+
- Swift 5.9+
- API‑ключ 2GIS

Настройка
1) Клонируйте репозиторий.
2) Откройте `2gis.xcodeproj` в Xcode.
3) Укажите API‑ключ 2GIS:
   - Ключ передается в `NavigationViewModel` через `NavigationAPIClient(apiKey:)` (см. `2gis/NavigationViewModel.swift`). Замените значение по умолчанию на свой ключ.

Сборка и запуск
- Выберите схему “2gis” и запустите.
- По умолчанию используется реальный GPS (CoreLocation). Предоставьте разрешение на доступ к геолокации при запросе.

Переключение на GPX‑мок (опционально)
- Чтобы использовать встроенный GPX вместо реального GPS, задайте:
  - В `ContentView.onAppear`: вызовите `locationService.enableMockFromBundledGPX(named: "xcode_route_2mps")` и установите `locationService.mode = .mockGPX` перед `start()`.
- Скорость воспроизведения настраивается через `LocationService.playbackRate` (например, 0.5 — в 2 раза медленнее).

Документация
- Подробности в папке `docs/`:
  - docs/README.md — обзор
  - docs/architecture.md — компоненты и поток данных
  - docs/location.md — GPS и GPX‑мок
  - docs/navigation.md — маршрут и манёвры
  - docs/billboards.md — генерация и жизненный цикл билбордов
  - docs/api.md — API‑клиент и модели

Заметки
- Это демо‑проект: упор сделан на понятность. Учитывайте лимиты API при включении непрерывного Map Matching.
